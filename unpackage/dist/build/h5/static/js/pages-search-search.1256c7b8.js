(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"062e":function(e,t,r){"use strict";r.r(t);var a=r("9530"),n=r("f24f");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("d431");var s,c=r("f0c5"),o=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"9b1ea73c",null,!1,a["a"],s);t["default"]=o.exports},"07cd":function(e,t,r){"use strict";var a=r("dbce"),n=r("4ea4");r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("2909"));r("96cf");var s=n(r("1da1")),c=a(r("0cae")),o={data:function(){return{serachHotData:[],searchWord:"",searchHistory:[],searchList:[],isShowRes:!1,searchSuggestList:[]}},watch:{searchWord:function(e){var t=this;return(0,s.default)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e){r.next=4;break}t.isShowRes=!1,r.next=10;break;case 4:return r.next=6,c.serachSuggest(e);case 6:if(a=r.sent,200===a[1].data.code){r.next=9;break}return r.abrupt("return",uni.showToast({title:"数据错误"}));case 9:t.searchSuggestList=a[1].data.result.allMatch;case 10:case"end":return r.stop()}}),r)})))()}},methods:{goRes:function(e){var t=this;return(0,s.default)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.searchWord=e,r.next=3,t.serachEvent();case 3:case"end":return r.stop()}}),r)})))()},goDetail:function(e){uni.navigateTo({url:"../detail/detail?id=".concat(e)})},getSearchList:function(e){var t=this;return(0,s.default)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,c.serachRes(e);case 4:if(a=r.sent,200===a[1].data.code){r.next=7;break}return r.abrupt("return",uni.showToast({title:"搜索失败"}));case 7:t.searchList=a[1].data.result.songs;case 8:case"end":return r.stop()}}),r)})))()},searchHistoryClear:function(){try{uni.removeStorageSync("searchHistory"),this.searchHistory=[]}catch(e){return console.log(e)}},serachEvent:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.searchHistory.unshift(e.searchWord),e.searchHistory=(0,i.default)(new Set(e.searchHistory)),e.searchHistory.length>10&&(e.searchHistory.length=10),uni.setStorageSync("searchHistory",JSON.stringify(e.searchHistory)),e.isShowRes=!0,t.next=7,e.getSearchList(e.searchWord);case 7:case"end":return t.stop()}}),t)})))()},toSerachWord:function(e){this.searchWord=e},serachHotEvnet:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.serachHot();case 2:if(r=t.sent,200===r[1].data.code){t.next=5;break}return t.abrupt("return",uni.showToast({title:"数据加载错误"}));case 5:e.serachHotData=r[1].data.data;case 6:case"end":return t.stop()}}),t)})))()}},onLoad:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=JSON.parse(uni.getStorageSync("searchHistory")||"[]"),e.searchHistory=r,t.next=4,e.serachHotEvnet();case 4:case"end":return t.stop()}}),t)})))()}};t.default=o},"08b8":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"musiccHeader",data:function(){return{}},props:["title","icon","color"],methods:{backEvent:function(){uni.navigateBack()},backHome:function(){uni.navigateTo({url:"../../pages/index/index"})}}};t.default=a},"0cae":function(e,t,r){"use strict";r("99af"),r("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.topList=n,t.musicList=i,t.songDetail=s,t.simiSong=c,t.songComment=o,t.songLyric=u,t.songUrl=d,t.serachHot=l,t.serachRes=h,t.serachSuggest=f;var a=r("2914");function n(){return new Promise((function(e,t){uni.request({url:"".concat(a.baseUrl,"toplist/detail "),method:"GET",data:{},success:function(t){var r=t.data.list;r.length=4,e(r)},fail:function(){},complete:function(){}})}))}function i(e){return uni.request({url:"".concat(a.baseUrl,"playlist/detail?id=").concat(e),method:"GET"})}function s(e){return uni.request({url:"".concat(a.baseUrl,"song/detail?ids=").concat(e),method:"GET"})}function c(e){return uni.request({url:"".concat(a.baseUrl,"simi/song?id=").concat(e),method:"GET"})}function o(e){return uni.request({url:"".concat(a.baseUrl,"comment/music?id=").concat(e),method:"GET"})}function u(e){return uni.request({url:"".concat(a.baseUrl,"lyric?id=").concat(e),method:"GET"})}function d(e){return uni.request({url:"".concat(a.baseUrl,"song/url?id=").concat(e),method:"GET"})}function l(){return uni.request({url:"".concat(a.baseUrl,"search/hot/detail"),method:"GET"})}function h(e){return uni.request({url:"".concat(a.baseUrl,"search?keywords=").concat(e),method:"GET"})}function f(e){return uni.request({url:"".concat(a.baseUrl,"search/suggest?keywords=").concat(e,"&type=mobile"),method:"GET"})}},"26ce":function(e,t,r){var a=r("92a0");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("4f06").default;n("e46b9910",a,!0,{sourceMap:!1,shadowMode:!1})},2909:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=c(r("6005")),n=c(r("db90")),i=c(r("06c5")),s=c(r("3427"));function c(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,a.default)(e)||(0,n.default)(e)||(0,i.default)(e)||(0,s.default)()}},2914:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseUrl=void 0;var a="http://118.31.246.242:3008/";t.baseUrl=a},3427:function(e,t,r){"use strict";function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},"51fe":function(e,t,r){"use strict";var a=r("26ce"),n=r.n(a);n.a},6005:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(r("6b75"));function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e))return(0,a.default)(e)}},"73b8":function(e,t,r){"use strict";r.r(t);var a=r("e16a"),n=r("fde1");for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);r("51fe");var s,c=r("f0c5"),o=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"674bda9a",null,!1,a["a"],s);t["default"]=o.exports},"8c86":function(e,t,r){var a=r("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.music-head[data-v-9b1ea73c]{width:100%;height:%?130?%;position:relative;text-align:center}.music-head .music-head-icon[data-v-9b1ea73c]{position:absolute;padding-top:%?15?%;color:#fff;box-sizing:border-box;top:%?50?%;width:%?180?%;height:%?60?%;display:flex;border-radius:%?30?%;background-color:rgba(0,0,0,.4);justify-content:space-around}.music-head .title[data-v-9b1ea73c]{color:#000;line-height:%?150?%;text-align:center}',""]),e.exports=t},"92a0":function(e,t,r){var a=r("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.search-search[data-v-674bda9a]{display:flex;align-items:center;height:%?70?%;margin:%?70?% %?30?% %?50?% %?30?%;background:#f7f7f7;border-radius:%?50?%}.search-search uni-text[data-v-674bda9a]{margin:0 %?26?%}.search-search uni-input[data-v-674bda9a]{flex:1;flex-shrink:0;font-size:%?26?%}.search-history[data-v-674bda9a]{width:100%;font-size:%?30?%}.search-history .search-history-head[data-v-674bda9a]{padding:0 %?50?%;box-sizing:border-box;width:100%;display:flex;justify-content:space-between}.search-history .search-history-list[data-v-674bda9a]{font-size:%?26?%;display:flex;flex-wrap:wrap}.search-history .search-history-list uni-view[data-v-674bda9a]{padding:%?16?% %?28?%;border-radius:%?40?%;margin-left:%?20?%;margin-top:%?20?%;background-color:#d0d0d0}.search-hot[data-v-674bda9a]{padding:0 %?50?%;box-sizing:border-box;width:100%;font-size:%?26?%}.search-hot .search-hot-header[data-v-674bda9a]{font-size:%?30?%;margin:%?30?% 0}.search-hot .search-hot-item[data-v-674bda9a]{display:flex;align-items:center;margin-bottom:%?58?%}.search-hot .search-hot-item .search-hot-left[data-v-674bda9a]{color:red;width:%?60?%;margin-left:%?8?%}.search-hot .search-hot-item .search-hot-middle[data-v-674bda9a]{flex:1;flex-shrink:0}.search-hot .search-hot-item .search-hot-middle uni-view:nth-of-type(1) uni-text[data-v-674bda9a]{font-size:%?28?%;color:#000}.search-hot .search-hot-item .search-hot-middle uni-view:nth-of-type(1) uni-image[data-v-674bda9a]{width:%?48?%;height:%?22?%}.search-hot .search-hot-item .search-hot-middle uni-view[data-v-674bda9a]:nth-of-type(2){font-size:%?24?%;color:silver}.search-hot .search-hot-item .search-hot-right[data-v-674bda9a]{font-size:%?24?%;color:silver}.search-result[data-v-674bda9a]{border-top:%?4?% silver solid;padding:%?30?%;box-sizing:border-box}.search-result .search-result-item[data-v-674bda9a]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?30?%;border-bottom:%?2?% solid #dfdfdf;padding-bottom:%?20?%}.search-result .search-result-item .text-content uni-view[data-v-674bda9a]:nth-of-type(1){font-size:%?28?%;color:#5379a7}.search-result .search-result-item .text-content uni-view[data-v-674bda9a]:nth-of-type(2){font-size:%?22?%;color:#999}.search-result .search-result-item .icon-right uni-text[data-v-674bda9a]{font-size:%?50?%}.search-suggest[data-v-674bda9a]{border-top:%?4?% silver solid;padding:%?30?%;box-sizing:border-box;font-size:%?26?%}.search-suggest .search-suggest-header[data-v-674bda9a]{color:#15475a;margin:%?20?% %?20?% %?70?% %?20?%}.search-suggest .search-suggest-item uni-text[data-v-674bda9a]{margin:%?10?%;line-height:%?60?%}',""]),e.exports=t},9530:function(e,t,r){"use strict";var a;r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"music-head"},[e.icon?r("v-uni-view",{staticClass:"music-head-icon"},[r("v-uni-text",{staticClass:"iconfont iconzuojiantou-copy",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.backEvent.apply(void 0,arguments)}}}),r("v-uni-text",{staticClass:"iconfont iconshouye",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.backHome.apply(void 0,arguments)}}})],1):e._e(),r("v-uni-text",{staticClass:"title",style:{color:e.color}},[e._v(e._s(e.title))])],1)},i=[]},d431:function(e,t,r){"use strict";var a=r("f260"),n=r.n(a);n.a},db90:function(e,t,r){"use strict";function a(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("d3b7"),r("3ca3"),r("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},e16a:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return a}));var a={musiccHeader:r("062e").default},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"u-page"},[r("musiccHeader",{attrs:{title:"网易云音乐",icon:!0}}),r("v-uni-view",{staticClass:"container"},[r("v-uni-scroll-view",{staticClass:"container-box",attrs:{"scroll-y":"true"}},[r("v-uni-view",{staticClass:"search-search"},[r("v-uni-text",{staticClass:"iconfont iconsearch"}),r("v-uni-input",{attrs:{type:"text",placeholder:"搜索歌曲"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.serachEvent.apply(void 0,arguments)}},model:{value:e.searchWord,callback:function(t){e.searchWord="string"===typeof t?t.trim():t},expression:"searchWord"}}),e.searchWord?r("v-uni-text",{staticClass:"iconfont iconguanbi",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.searchWord=""}}}):e._e()],1),e.searchWord?e.searchWord&&e.isShowRes?[r("v-uni-view",{staticClass:"search-result"},e._l(e.searchList,(function(t,a){return r("v-uni-view",{key:a,staticClass:"search-result-item",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.goDetail(t.id)}}},[r("v-uni-view",{staticClass:"text-content"},[r("v-uni-view",[e._v(e._s(t.name))]),r("v-uni-view",[e._v(e._s(t.artists[0].name)+"-"+e._s(t.album.name))])],1),r("v-uni-view",{staticClass:"icon-right"},[r("v-uni-text",{staticClass:"iconfont iconbofang"})],1)],1)})),1)]:e.searchWord?[r("v-uni-view",{staticClass:"search-suggest"},e._l(e.searchSuggestList,(function(t,a){return r("v-uni-view",{key:a,staticClass:"search-suggest-item",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.goRes(t.keyword)}}},[r("v-uni-view",[r("v-uni-text",{staticClass:"iconfont iconsearch"}),r("v-uni-text",[e._v(e._s(t.keyword))])],1)],1)})),1)]:e._e():[r("v-uni-view",{staticClass:"search-history"},[r("v-uni-view",{staticClass:"search-history-head"},[r("v-uni-text",[e._v("历史记录")]),r("v-uni-text",{staticClass:"iconfont iconlajitong",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.searchHistoryClear.apply(void 0,arguments)}}})],1),r("v-uni-view",{staticClass:"search-history-list"},e._l(e.searchHistory,(function(t,a){return r("v-uni-view",{key:a,on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.toSerachWord(t)}}},[e._v(e._s(t))])})),1)],1),r("v-uni-view",{staticClass:"search-hot"},[r("v-uni-view",{staticClass:"search-hot-header"},[e._v("热搜榜")]),e._l(e.serachHotData,(function(t,a){return r("v-uni-view",{key:a,staticClass:"search-hot-item",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.toSerachWord(t.searchWord)}}},[r("v-uni-view",{staticClass:"search-hot-left"},[e._v(e._s(a+1))]),r("v-uni-view",{staticClass:"search-hot-middle"},[r("v-uni-view",[r("v-uni-text",[e._v(e._s(t.searchWord))]),r("v-uni-image",{attrs:{src:t.iconUrl,mode:"aspectFit"}})],1),r("v-uni-view",[e._v(e._s(t.content))])],1),r("v-uni-view",{staticClass:"search-hot-right"},[r("v-uni-text",[e._v(e._s(t.score))])],1)],1)}))],2)]],2)],1)],1)},i=[]},f24f:function(e,t,r){"use strict";r.r(t);var a=r("08b8"),n=r.n(a);for(var i in a)"default"!==i&&function(e){r.d(t,e,(function(){return a[e]}))}(i);t["default"]=n.a},f260:function(e,t,r){var a=r("8c86");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("4f06").default;n("215bf544",a,!0,{sourceMap:!1,shadowMode:!1})},fde1:function(e,t,r){"use strict";r.r(t);var a=r("07cd"),n=r.n(a);for(var i in a)"default"!==i&&function(e){r.d(t,e,(function(){return a[e]}))}(i);t["default"]=n.a}}]);